{% extends 'userpart/base_user.html' %}
{% load static %}

{% block content %}
<div class="container mx-auto mt-10">
    <div class="flex flex-col md:flex-row bg-[#e4e1d8] p-8 rounded-lg shadow-lg">
        <!-- Profile Picture & Bio -->
        <div class="md:w-1/3 flex flex-col items-center text-center md:text-left">
            <img class="w-32 h-32 rounded-full border-4 border-gray-300"
                 src="{% if user_profile.profile_picture %}{{ user_profile.profile_picture.url }}{% else %}{% static 'images/default-avatar.png' %}{% endif %}"
                 
            <h2 class="text-2xl font-semibold mt-4">{{ user.username }}</h2>
            <p class="mt-2 text-sm">{{ user_profile.bio }}</p>
            <a href="{% url 'userpanel:edit_profile' %}" class="mt-4 bg-[#212121] text-white px-4 py-2 rounded-lg hover:bg-[#333333] transition">Edit Profile</a>
        </div>
        
        <!-- Address Section -->
        <div class="md:w-2/3 mt-8 md:mt-0 md:pl-10">
            <h3 class="text-2xl font-semibold mb-4">Your Addresses</h3>
            {% for address in addresses %}
            <div class="mb-4 p-4 rounded-lg shadow-sm bg-white">
                <h4 class="text-lg font-semibold">{{ address.name }}</h4>
                <p class="text-sm text-gray-700">{{ address.house_name }}, {{ address.street_name }}</p>
                <p class="text-sm text-gray-700">{{ address.district }}, {{ address.state }}, {{ address.country }}</p>
                <p class="text-sm text-gray-700">Pin: {{ address.pin_number }}</p>
                <p class="text-sm text-gray-700">Phone: {{ address.phone_number }}</p>
                
                <div class="flex mt-4 gap-2">
                    <a href="{% url 'userpanel:edit_address' address.id %}" class="bg-blue-500 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition">Edit</a>
                    <a href="{% url 'userpanel:delete_address' address.id %}" class="bg-red-500 text-white px-3 py-1 rounded-lg hover:bg-red-700 transition" 
                       onclick="return confirm('Are you sure you want to delete this address?')">Delete</a>
                </div>
            </div>
            {% endfor %}
            <a href="{% url 'userpanel:add_address' %}" class="mt-4 inline-block bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition">Add New Address</a>
        </div>
    </div>
</div>
{% endblock %}